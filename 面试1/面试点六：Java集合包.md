# Java集合包

## HashMap

### 底层数据结构

**数组+最简单的原理**

### HashMap的优化

#### Hash算法的优化

#### 寻址算法的优化

### Hash碰撞

**多个key算出来的hash值，与n-1进行与运算后，最后定位出来的位置是一样的**

**解决方案：**

会在这同一个位置上挂一个**链表**，这个链表里放入多个元素，让多个key-value对，放在数组的一个位置中

获取时发现是链表，则遍历链表去找到key-value就行

**链表过长，会导致遍历链表性能变差**

优化：链表长度达到一定长度以后（8），会将链表**转换为红黑树**

### HashMap扩容

由于底层数组，当数组慢了以后，会自动扩容，变成更大的数组

目前扩容是进行**2倍扩容**

#### rehash

数组扩容后需要将原来的数据重新进行hash的与长度减1的与运算，就会让原来的数据重新分配到新数组的不同的位置

